"use strict";(self.webpackChunktea=self.webpackChunktea||[]).push([[471],{2471:(D,p,i)=>{i.r(p),i.d(p,{OrderModule:()=>z});var _=i(6895),s=i(646),d=i(433),u=i(8256),f=i(2340),h=i(529);let v=(()=>{class t{constructor(e){this.http=e}createOrder(e){return this.http.post(f.N.apiURL+"order-tea",e)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(h.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=i(3763);function x(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f "),u.qZA())}function Z(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function F(t,n){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,x,2,0,"div",20),u.YNc(2,Z,2,0,"div",20),u.qZA()),2&t){const e=u.oxw(2);let o,r;u.xp6(1),u.Q6J("ngIf",null==(o=e.checkoutForm.get("firstName"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=e.checkoutForm.get("firstName"))||null==r.errors?null:r.errors.pattern)}}function N(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e "),u.qZA())}function T(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u0441 \u0444\u0430\u043c\u0438\u043b\u0438\u0435\u0439 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function M(t,n){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,N,2,0,"div",20),u.YNc(2,T,2,0,"div",20),u.qZA()),2&t){const e=u.oxw(2);let o,r;u.xp6(1),u.Q6J("ngIf",null==(o=e.checkoutForm.get("lastName"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=e.checkoutForm.get("lastName"))||null==r.errors?null:r.errors.pattern)}}function A(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d "),u.qZA())}function O(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u0441 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 11 \u0446\u0438\u0444\u0440 "),u.qZA())}function k(t,n){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,A,2,0,"div",20),u.YNc(2,O,2,0,"div",20),u.qZA()),2&t){const e=u.oxw(2);let o,r;u.xp6(1),u.Q6J("ngIf",null==(o=e.checkoutForm.get("phone"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=e.checkoutForm.get("phone"))||null==r.errors?null:r.errors.pattern)}}function E(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 "),u.qZA())}function q(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u041f\u043e\u043b\u0435 \u0441 \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c: \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0434\u0435\u0444\u0438\u0441 \u0438 /, \u0432\u0441\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e "),u.qZA())}function y(t,n){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,E,2,0,"div",20),u.YNc(2,q,2,0,"div",20),u.qZA()),2&t){const e=u.oxw(2);let o,r;u.xp6(1),u.Q6J("ngIf",null==(o=e.checkoutForm.get("address"))||null==o.errors?null:o.errors.required),u.xp6(1),u.Q6J("ngIf",null==(r=e.checkoutForm.get("address"))||null==r.errors?null:r.errors.pattern)}}function J(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 "),u.qZA())}function I(t,n){1&t&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 ZIP. "),u.qZA())}function B(t,n){1&t&&(u.TgZ(0,"div",31),u._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA())}function b(t,n){if(1&t){const e=u.EpF();u.TgZ(0,"div",1)(1,"main")(2,"div",2)(3,"div",3)(4,"h4",4),u._uU(5,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"),u.qZA(),u.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"label",8),u._uU(10,"\u0418\u043c\u044f"),u.qZA(),u.TgZ(11,"input",9),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.firstName=r)}),u.qZA(),u.YNc(12,F,3,2,"div",10),u.qZA(),u.TgZ(13,"div",7)(14,"label",11),u._uU(15,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u.TgZ(16,"input",12),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.lastName=r)}),u.qZA(),u.YNc(17,M,3,2,"div",10),u.qZA(),u.TgZ(18,"div",13)(19,"label",14),u._uU(20,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u.TgZ(21,"input",15),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.phone=r)}),u.qZA(),u.YNc(22,k,3,2,"div",10),u.qZA(),u.TgZ(23,"div",13)(24,"label",16),u._uU(25,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u.TgZ(26,"input",17),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.address=r)}),u.qZA(),u.YNc(27,y,3,2,"div",10),u.qZA(),u.TgZ(28,"div",13)(29,"label",18),u._uU(30,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u.TgZ(31,"input",19),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.country=r)}),u.qZA(),u.YNc(32,J,2,0,"div",20),u.qZA(),u.TgZ(33,"div",13)(34,"label",21),u._uU(35,"Zip"),u.qZA(),u.TgZ(36,"input",22),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.zip=r)}),u.qZA(),u.YNc(37,I,2,0,"div",20),u.qZA(),u.TgZ(38,"div",13)(39,"label",23),u._uU(40,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u.TgZ(41,"input",24),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.product=r)}),u.qZA()(),u.TgZ(42,"div",13)(43,"label",25),u._uU(44,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u.TgZ(45,"textarea",26),u.NdJ("ngModelChange",function(r){u.CHM(e);const l=u.oxw();return u.KtG(l.formValues.comment=r)}),u.qZA()()(),u._UZ(46,"hr",27),u.TgZ(47,"button",28),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.createOrder())}),u._uU(48,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.YNc(49,B,2,0,"div",29),u.qZA()()()()()}if(2&t){const e=u.oxw();let o,r,l,m,c,a;u.xp6(6),u.Q6J("formGroup",e.checkoutForm),u.xp6(5),u.Q6J("ngModel",e.formValues.firstName),u.xp6(1),u.Q6J("ngIf",(null==(o=e.checkoutForm.get("firstName"))?null:o.invalid)&&((null==(o=e.checkoutForm.get("firstName"))?null:o.touched)||(null==(o=e.checkoutForm.get("firstName"))?null:o.dirty))),u.xp6(4),u.Q6J("ngModel",e.formValues.lastName),u.xp6(1),u.Q6J("ngIf",(null==(r=e.checkoutForm.get("lastName"))?null:r.invalid)&&((null==(r=e.checkoutForm.get("lastName"))?null:r.touched)||(null==(r=e.checkoutForm.get("lastName"))?null:r.dirty))),u.xp6(4),u.Q6J("ngModel",e.formValues.phone),u.xp6(1),u.Q6J("ngIf",(null==(l=e.checkoutForm.get("phone"))?null:l.invalid)&&((null==(l=e.checkoutForm.get("phone"))?null:l.touched)||(null==(l=e.checkoutForm.get("phone"))?null:l.dirty))),u.xp6(4),u.Q6J("ngModel",e.formValues.address),u.xp6(1),u.Q6J("ngIf",(null==(m=e.checkoutForm.get("address"))?null:m.invalid)&&((null==(m=e.checkoutForm.get("address"))?null:m.touched)||(null==(m=e.checkoutForm.get("address"))?null:m.dirty))),u.xp6(4),u.Q6J("ngModel",e.formValues.country),u.xp6(1),u.Q6J("ngIf",(null==(c=e.checkoutForm.get("country"))?null:c.invalid)&&((null==(c=e.checkoutForm.get("country"))?null:c.touched)||(null==(c=e.checkoutForm.get("country"))?null:c.dirty))&&(null==(c=e.checkoutForm.get("country"))||null==c.errors?null:c.errors.required)),u.xp6(4),u.Q6J("ngModel",e.formValues.zip),u.xp6(1),u.Q6J("ngIf",(null==(a=e.checkoutForm.get("zip"))?null:a.invalid)&&((null==(a=e.checkoutForm.get("zip"))?null:a.touched)||(null==(a=e.checkoutForm.get("zip"))?null:a.dirty))&&(null==(a=e.checkoutForm.get("zip"))||null==a.errors?null:a.errors.required)),u.xp6(4),u.Q6J("ngModel",e.formValues.product),u.uIk("disabled",!0),u.xp6(4),u.Q6J("ngModel",e.formValues.comment),u.xp6(4),u.Q6J("ngIf",e.orderError)}}function Q(t,n){1&t&&(u.TgZ(0,"div",1)(1,"main",32)(2,"div",33)(3,"h1"),u._uU(4,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! \u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438! "),u.qZA()()()())}const U=[{path:"",component:(()=>{class t{constructor(e,o,r,l,m){this.fb=e,this.orderService=o,this.router=r,this.activatedRoute=l,this.searchService=m,this.subscriptionOrder=null,this.orderCompleted=!1,this.orderError=!1,this.formValues={firstName:"",lastName:"",phone:"",country:"",zip:"",product:"",address:"",comment:""},this.checkoutForm=this.fb.group({firstName:["",[d.kI.required,d.kI.pattern(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451]+$/)]],lastName:["",[d.kI.required,d.kI.pattern(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451]+$/)]],phone:["",[d.kI.required,d.kI.pattern(/^(?:\+?)?\d{11}$/)]],address:["",[d.kI.required,d.kI.pattern(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u04510-9\s\-\/]+$/)]],country:["",d.kI.required],zip:["",d.kI.required],product:["",d.kI.required],comment:[""]})}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{e.product&&(this.formValues.product=e.product)})}createOrder(){this.subscriptionOrder=this.orderService.createOrder({name:this.checkoutForm.value.firstName??"",last_name:this.checkoutForm.value.lastName??"",phone:this.checkoutForm.value.phone??"",country:this.checkoutForm.value.country??"",zip:parseInt(this.checkoutForm.value.zip??"0",10),product:this.checkoutForm.value.product??"",address:this.checkoutForm.value.address??"",comment:this.checkoutForm.value.comment??""}).subscribe({next:e=>{e.success&&!e.message?(this.orderCompleted=!0,this.orderError=!1,this.searchService.clearSearchQuery(),setTimeout(()=>{this.router.navigate(["/"])},3e3)):(this.orderError=!0,this.orderCompleted=!1)},error:e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0444\u043e\u0440\u043c\u044b:",e),this.orderError=!0,this.orderCompleted=!1}})}ngOnDestroy(){this.subscriptionOrder?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.qu),u.Y36(v),u.Y36(s.F0),u.Y36(s.gz),u.Y36(C.o))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-order"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","g-5"],[1,"col-md-7","col-lg-12"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName","placeholder","\u0418\u043c\u044f","value","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",1,"form-control",3,"ngModel","ngModelChange"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address","placeholder","\u0410\u0434\u0440\u0435\u0441...",1,"form-control",3,"ngModel","ngModelChange"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country","placeholder","\u0421\u0442\u0440\u0430\u043d\u0430...",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["for","zip",1,"form-label"],["type","text","id","zip","formControlName","zip","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u044f...",1,"form-control",3,"ngModel","ngModelChange"],["for","comment",1,"form-label"],["id","comment","formControlName","comment","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"form-control",2,"height","100px",3,"ngModel","ngModelChange"],[1,"my-4"],[1,"w-100","text","btn","btn-primary","btn-group-sm",3,"click"],["class","text-danger mt-3",4,"ngIf"],[1,"invalid-feedback"],[1,"text-danger","mt-3"],[1,"full-height"],[1,"text-center"]],template:function(e,o){1&e&&(u.YNc(0,b,50,17,"div",0),u.YNc(1,Q,5,0,"div",0)),2&e&&(u.Q6J("ngIf",!o.orderCompleted),u.xp6(1),u.Q6J("ngIf",o.orderCompleted))},dependencies:[_.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u],styles:[".container[_ngcontent-%COMP%]{max-width:960px;margin-top:70px;margin-bottom:50px}input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}.full-height[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[s.Bz.forChild(U),s.Bz]}),t})();var Y=i(4466);let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[_.ez,Y.m,s.Bz,d.u5,d.UX,g,g]}),t})()}}]);